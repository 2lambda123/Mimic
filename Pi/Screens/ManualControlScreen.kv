<ManualControlScreen>:
    name: 'manualcontrol'
    on_pre_enter: root.on_pre_enter()

    FloatLayout:
        size_hint: 1, 1
        
        # Background Image
        Image:
            id: Control_background
            source: f"{root.mimic_directory}/Mimic/Pi/imgs/control/ControlBackground.png"
            fit_mode: "fill"
        
        # Signal and Arduino Images
        Image:
            id: signal
            source: f"{root.mimic_directory}/Mimic/Pi/imgs/signal/pulse-transparent.zip"
            size_hint_y: 0.15
            anim_delay: 0.12
            anim_loop: 0
            pos_hint: {"center_x": 0.05, "center_y": 0.07}
            fit_mode: "scale-down"
        
        Image:
            id: arduino
            source: f"{root.mimic_directory}/Mimic/Pi/imgs/signal/arduino_offline.png"
            size_hint_y: 0.15
            anim_delay: 0.2
            anim_loop: 0
            pos_hint: {"center_x": 0.14, "center_y": 0.08}
            fit_mode: "scale-down"
        
        # Back Button
        Button:
            size_hint: 0.1, 0.11
            pos_hint: {"center_x": 0.9375, "center_y": 0.082}
            background_normal: f'{root.mimic_directory}/Mimic/Pi/imgs/eva/BackButton.png'
            on_release: app.root.current = 'main'
        
        # Arduino Label
        Label:
            id: arduino_count
            pos_hint: {"x": 0.12, "y": 0.0}
            text: ''
            markup: True
            color: 1, 1, 1
            font_size: self.height * 0.3
            size_hint_y: 0.5
        
        # Buttons
        SelectButton:
            id: Beta4B_Button
            text: "4B"
            size_hint: 0.08, 0.3
            pos_hint: {"center_x": 0.6, "center_y": 0.7}
            on_press: root.set_active("Beta4B")

        SelectButton:
            id: Beta2B_Button
            text: "2B"
            size_hint: 0.08, 0.3
            pos_hint: {"center_x": 0.6, "center_y": 0.3}
            on_press: root.set_active("Beta2B")

        SelectButton:
            id: Beta4A_Button
            text: "4A"
            size_hint: 0.08, 0.3
            pos_hint: {"center_x": 0.5, "center_y": 0.3}
            on_press: root.set_active("Beta4A")

        SelectButton:
            id: Beta2A_Button
            text: "2A"
            size_hint: 0.08, 0.3
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
            on_press: root.set_active("Beta2A")

        SelectButton:
            id: Beta3B_Button
            text: "3B"
            size_hint: 0.08, 0.3
            pos_hint: {"center_x": 0.1, "center_y": 0.3}
            on_press: root.set_active("Beta3B")

        SelectButton:
            id: Beta1B_Button
            text: "1B"
            size_hint: 0.08, 0.3
            pos_hint: {"center_x": 0.1, "center_y": 0.7}
            on_press: root.set_active("Beta1B")

        SelectButton:
            id: Beta3A_Button
            text: "3A"
            size_hint: 0.08, 0.3
            pos_hint: {"center_x": 0.2, "center_y": 0.7}
            on_press: root.set_active("Beta3A")

        SelectButton:
            id: Beta1A_Button
            text: "1A"
            size_hint: 0.08, 0.3
            pos_hint: {"center_x": 0.2, "center_y": 0.3}
            on_press: root.set_active("Beta1A")

        SelectButton:
            id: PSARJ_Button
            size_hint: 0.2,0.1
            pos_hint: {"center_x": 0.55, "center_y": 0.5}
            text: "Port Truss"
            on_press: root.set_active("PSARJ")

        SelectButton:
            id: SSARJ_Button
            size_hint: 0.2,0.1
            pos_hint: {"center_x": 0.15, "center_y": 0.5}
            text: "Stbd Truss"
            on_press: root.set_active("SSARJ")

        SelectButton:
            id: PTRRJ_Button
            size_hint: 0.1,0.3
            pos_hint: {"center_x": 0.4, "center_y": 0.5}
            text: "Port\nHRS"
            on_press: root.set_active("PTRRJ")
        
        SelectButton:
            id: STRRJ_Button
            size_hint: 0.1,0.3
            pos_hint: {"center_x": 0.3, "center_y": 0.5}
            text: "Stbd\nHRS"
            on_press: root.set_active("STRRJ")

        ControlButton:
            id: set0
            pos_hint: {"center_x": 0.8, "center_y": 0.75}
            text: 'Set 0'
            on_release: root.send_value_all(0)
        
        ControlButton:
            id: set90
            pos_hint: {"center_x": 0.9, "center_y": 0.75}
            text: 'Set 90'
            on_release: root.send_value_all(90)
        
        ControlButton:
            size_hint: 0.2,0.07
            pos_hint: {"center_x": 0.85, "center_y": 0.62}
            text: 'Calibrate Zero'
            on_press: root.zero_joints()
        
        ControlButton:
            pos_hint: {"center_x": 0.9, "center_y": 0.49}
            text: '+5'
            on_press: root.increment_active(5)
        
        ControlButton:
            pos_hint: {"center_x": 0.8, "center_y": 0.49}
            text: '-5'
            on_press: root.increment_active(-5)
        
        ControlButton:
            pos_hint: {"center_x": 0.9, "center_y": 0.40}
            text: '+20'
            on_press: root.increment_active(20)
        
        ControlButton:
            pos_hint: {"center_x": 0.8, "center_y": 0.40}
            text: '-20'
            on_press: root.increment_active(-20)
        
        ControlButton:
            pos_hint: {"center_x": 0.9, "center_y": 0.31}
            text: '+90'
            on_press: root.increment_active(90)
        
        ControlButton:
            pos_hint: {"center_x": 0.8, "center_y": 0.31}
            text: '-90'
            on_press: root.increment_active(-90)
 
# Helper Button Class for Buttons with Similar Properties
<SelectButton@Button>:
    font_size: dp(30)
    halign: "center"

<ControlButton@Button>:
    font_size: dp(20)
    size_hint: 0.1,0.07
